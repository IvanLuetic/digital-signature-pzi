import{r as u,D as v,c as p,o as i,a as r,j as f,E as g,w,v as m,i as P,g as x,h as y,k as _,x as h,G as k,H as R}from"./index-_KYfJ8Fu.js";const C={class:"w-full max-w-100 bg-white rounded-xl shadow-lg overflow-hidden border border-gray-400"},V={class:"bg-blue-600 pt-1"},B={__name:"ResetPasswordForm",emits:["resetPassword"],setup(b,{emit:l}){const d=l,s=()=>{d("resetPassword",{newPassword:t.value,confirmPassword:a.value})},t=u(""),a=u("");return(c,e)=>{const o=v("router-link");return i(),p("div",C,[r("div",V,[f(o,{to:"/"},{default:g(()=>e[2]||(e[2]=[r("h3",{class:"text-white font-bold text-center"},"DocSigner",-1)])),_:1,__:[2]}),e[3]||(e[3]=r("p",{class:"text-blue-100 text-center mt-1 pb-3"},"Reset your password",-1))]),r("form",{onSubmit:P(s,["prevent"]),class:"p-6 space-y-5"},[e[4]||(e[4]=r("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"},"Password",-1)),w(r("input",{id:"newPassword","onUpdate:modelValue":e[0]||(e[0]=n=>t.value=n),type:"password",placeholder:"Enter your new password",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none transition"},null,512),[[m,t.value]]),w(r("input",{id:"confirmPassword","onUpdate:modelValue":e[1]||(e[1]=n=>a.value=n),type:"password",placeholder:"Confirm password",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none transition"},null,512),[[m,a.value]]),e[5]||(e[5]=r("button",{type:"submit",class:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 mt-3 mb-3 cursor-pointer rounded-md transition duration-200 focus:outline-none focus:ring-1 focus:ring-blue-500"}," Reset password ",-1))],32)])}}},E={class:"min-h-screen flex items-center justify-center mx-4"},D={__name:"ResetPassword",setup(b){const l=k(),d=R(),s=u(""),t=u(""),a=async e=>{if(e.newPassword.length<8){s.value="Password must be at least 8 characters long!";return}if(e.newPassword!==e.confirmPassword){s.value="Passwords do not match";return}try{await h.resetPassword({password:e.newPassword},l.query.token),t.value="Password reset successfully! Redirecting...",setTimeout(()=>{d.push("/auth")},3e3)}catch(o){s.value=o.response?.data?.message||"Something went wrong."}},c=()=>s.value="";return(e,o)=>(i(),p("div",E,[s.value||t.value?(i(),x(_,{key:0,error:s.value,success:t.value,onClose:o[0]||(o[0]=n=>c())},null,8,["error","success"])):y("",!0),f(B,{onResetPassword:o[1]||(o[1]=n=>a(n))})]))}};export{D as default};
